webpackJsonp([5],{"0MDS":function(t,a,e){"use strict";(function(t){var n=e("Dd8w"),o=e.n(n),i=e("NYxO"),s=e("Jjdl"),r=e("cqmd"),c=e("wJzh"),d=e("IK7c"),f=e("4YMQ");a.a={components:{backing:c.a,"transport-controls":d.a,mixer:f.a},head:{title:"Flat Thirteen | Backing"},layout:"debug",data:function(){return{bpm:"4,4",now:"",enableBacking:!0,selected:null,anySolo:!1,debugPhrase:[],fixed:[],fixedBeat:"",showFx:!0,tracks:[{type:"drums",notes:"K| ,K| S,K| ,K| K| ,K| S,K| S,S,K,S"},{type:"sawtooth6",notes:"C2:0,0|-5,-5|-2,-2|-1,-1|0,12|-5,7|-2,10|-1,11"},{type:"fatsquare5",notes:"C5:i^3,| ,i| |isus4| i,| ,i| | IV"}],more:{Cowbell:["A5,,A5,A5| E5,A5,E5,E5| A5,,A5,E5| | A5,,A5,A5| E5,A5,E5,E5| A5,,,E5","C1,C2,C3,C4| C2,C3,C4,C5| C3,C4,C5,C6| C4,C5,C6,C7","C1,C2,C3,C4| C5,C6,C7,C8| F#8,F#7,F#6,F#5| F#4,F#3,F#2,F#1"],Sawtooth6:["C2,B1,Bb1,A1| G#1,G1,F#1,F1| E1,Eb1,D1,C#1| C1,E1,G1,B1"],Fatsine:["C1.C2.C3.C4.C5.C6.C7.C8.C9| C4.E4.G4.Bb4| Db6.F6.Ab6.Cb7| D8.F#8.A8.C9"]},parseTracks:t.debounce(this._parseTracks,500)}},mounted:function(){window.addEventListener("keydown",this.onKeyDown),this.$bus.$on(s.a.EVENT,this.beatTickHandler)},destroyed:function(){this.clear("backing"),window.removeEventListener("keydown",this.onKeyDown),this.$bus.$off(s.a.EVENT,this.beatTickHandler)},methods:o()({onKeyDown:function(t){" "===t.key&&(this.showFx=void 0===this.showFx||void 0)},onAdd:function(t,a){a?this.tracks.push({type:a,notes:t.target.innerText}):this.tracks.push({type:"",notes:""})},onRemove:function(t){this.tracks.splice(t,1)},onBeat:function(t){r.a.resume(),this.selected!==t?(this.selected=t,this.fixed=this._getFixed(t)):(this.selected=null,this.fixed=[])},beatTickHandler:function(t){var a=t.beatTick;this.now=a},isNow:function(a){return t.startsWith(a,this.now)},_getFixed:function(a){return t.split(t.split(a,": ")[1],",")},_parseTracks:function(){var a=t.filter(t.map(this.tracks,function(a,e){return t.set(a,"name","track"+e)}),function(t){return t.solo&&!t.mute});if(this.anySolo=!!a.length,a.length||(a=t.filter(this.tracks,function(t){return!t.mute})),this.setTracks({name:"backing",tracks:a,numBeats:this.numBeats}),this.debugPhrase=this.asArray("backing"),this.selected){var e=t.split(this.selected,": ")[0];this.selected=t.find(this.debugPhrase,function(a){return t.startsWith(a,e)}),this.fixed=this.selected?this._getFixed(this.selected):[]}}},Object(i.mapActions)({clear:"phrase/clear",setTracks:"phrase/setTracks"})),computed:o()({numBeats:function(){return t.sum(t.map(this.bpm.split(","),t.toNumber))}},Object(i.mapGetters)({asArray:"phrase/asArray",playing:"transport/playing"})),watch:{tracks:{deep:!0,immediate:!0,handler:function(){this.parseTracks()}},numBeats:function(){this.parseTracks()}}}}).call(a,e("M4fF"))},"2DrB":function(t,a,e){var n=e("OZcm");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("7256022f",n,!1,{sourceMap:!1})},"4Say":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.show&&!t.skip?e("div",{staticClass:"backing-container"},[t._l(t.notes,function(a){return e("div",{key:a.id,staticClass:"fx",class:a.fxClass,attrs:{id:a.id}},[e("div",{staticClass:"tilt",style:{transform:a.tiltTransform}},[e("div",{staticClass:"scale",style:{transform:a.scaleTransform}},[e("transition",{attrs:{appear:"",name:a.transitionName}},[a.on?e("div",{staticClass:"note",class:a.noteClass},[e("div",{staticClass:"shadow",style:{height:a.shadowHeight}})]):t._e()])],1)])])}),t.showCounts?e("div",{staticClass:"counts",on:{click:function(a){return t.resetCounts()}}},[e("span",[t._v(t._s(t.playCount))]),e("span",[t._v(" "+t._s(t.drawCount))]),t.playCount!==t.drawCount?e("span",{staticClass:"diff"},[t._v("("+t._s(t.drawCount-t.playCount)+")")]):t._e(),e("span",{class:{diff:t.activeNotes<0}},[t._v(" "+t._s(t.undrawCount)+t._s(t._f("diff")(t.activeNotes)))])]):t._e()],2):t._e()};n._withStripped=!0;var o={render:n,staticRenderFns:[]};a.a=o},"4YMQ":function(t,a,e){"use strict";var n=e("Srz2"),o=e("xU/a"),i=!1;var s=function(t){i||e("5Z88")},r=e("VU/8")(n.a,o.a,!1,s,"data-v-5541a008",null);r.options.__file="components/widget/mixer.component.vue",a.a=r.exports},"5Z88":function(t,a,e){var n=e("KHDB");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("00734c37",n,!1,{sourceMap:!1})},"9KVq":function(t,a,e){(a=t.exports=e("FZ+f")(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=PT+Mono);",""]),a.push([t.i,".transport[data-v-fe218888]{position:fixed;bottom:0;right:0;background-color:#eee;padding:5px;text-align:left;z-index:1}.transport .latency[data-v-fe218888]{text-align:right;color:#ff6e56}.transport .performance[data-v-fe218888]{text-align:right;color:#50ffa0}.transport .performance__warning[data-v-fe218888]{display:inline;background-color:#ff6e56}.transport .performance__slow-top[data-v-fe218888]{display:inline;color:#000;background-color:#ff0}.transport .performance__average[data-v-fe218888]{display:inline;color:#000}.transport .elapsed[data-v-fe218888],.transport .paused[data-v-fe218888],.transport .playing[data-v-fe218888],.transport .starting[data-v-fe218888]{display:inline-block}.transport .elapsed[data-v-fe218888]{margin-left:10px}",""])},BaJt:function(t,a,e){"use strict";(function(t){var n=e("mgf8"),o=e("l3QN");a.a={components:{"play-control":n.a,transport:o.a},props:{playTime:{type:String,default:void 0},beatsPerMeasure:{type:String,default:"4,4"},metronome:{type:Boolean,default:!1}},data:function(){return{transport:{bpm:function(){return 120},isValidBpm:t.stubTrue,isValidLatencyHint:t.stubTrue},tempo:120,latencyHint:"balanced",showSuggestions:!1}},mounted:function(){this.transport=this.$refs.transport},methods:{hideSuggestions:function(){var t=this;setTimeout(function(){t.showSuggestions=!1},200)},onLatencyHint:function(t){this.latencyHint=t}},computed:{transportProps:function(){return this.$nextTick(function(){this.$forceUpdate()}),{beatsPerMeasure:t.map(t.split(this.beatsPerMeasure,","),Number),tempo:this.tempo||0,latencyHint:this.latencyHint,metronome:this.metronome,show:!0}}}}}).call(a,e("M4fF"))},DXgv:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.show?e("div",{staticClass:"transport"},[t.beatTickHistogram.length?e("div",{staticClass:"performance"},[t._v(t._s(t.beatTickHistogram.join(","))),t.beatTickHistogram.length>5?e("div",{staticClass:"performance__warning"},[t._v("!")]):t._e(),t.topCount?e("div",{staticClass:"performance__slow-top"},[t._v(t._s(Math.floor(t.topTotal/t.topCount))+"!")]):t._e(),e("div",{staticClass:"performance__average"},[t._v(" "+t._s(Math.floor(t.beatTickTotal/t.beatTickCount)))])]):t._e(),t.latencyHistogram.length?e("div",{staticClass:"latency"},[t._v(t._s(t.latencyHistogram.join(",")))]):t._e(),t.playing?e("div",{staticClass:"playing"},[t._v(t._s(t.measure)+" : "+t._s(t.count)+" / "+t._s(t.countBeats))]):t.starting?e("div",{staticClass:"starting"},[t._v("...")]):e("div",{staticClass:"paused"},[t._v(t._s(t.beats)+" beats")]),t.startTime?e("div",{staticClass:"elapsed"},[t._v("("+t._s(t.elapsedTime())+"s)")]):t._e()]):t._e()};n._withStripped=!0;var o={render:n,staticRenderFns:[]};a.a=o},DZbw:function(t,a,e){"use strict";var n=e("R5/K"),o=e("QXxQ"),i=e("3QIO");a.a={mixins:[o.a],props:{wrong:Boolean,disable:Boolean},constants:{playPath:"M5,5L50,30L5,55Z",animationTarget:"play",animationDefinitions:{bounce:[[.1,{opacity:1,transform:"translateY(-1vh)",transformOrigin:"center center"}],[.6,{transform:"translateY(.6vh)"}],[.3,{transform:"translateY(0)"}]],enter:[[0,{opacity:0,transform:"rotate(90deg) scale(0)",transformOrigin:"center center"}],[.5,{opacity:1,transform:"rotate(45deg) scale(0.3)"}],[.3,{transform:"rotate(-10deg) scale(1.2)"}],[.2,{transform:"rotate(0) scale(1)"}]],twitch:[[0,{transform:"scale(1)"}],[.2,{transform:"scale(0.8, 1.1)",transformOrigin:"center center"}],[.4,{transform:"scale(1.2, 0.8)"}],[.4,{transform:"scale(1)"}]],drop:[[0,{opacity:1,transform:"translateY(0) scale(1)"}],[.2,{transform:"translateY(-1vh) scale(1.1, .8)",transformOrigin:"top left"}],[.3,{transform:"translateY(-1vh) scale(1.2, .6)"}],[.4,{opacity:.5,transform:"translateY(2vh) scale(.1, 1.5)"}],[.1,{opacity:0,transform:"translateY(2vh) scale(0, 1.5)"}]],toast:[[0,{opacity:0,transform:"translateY(2vh) scale(0, 1.5)"}],[.1,{opacity:.5,transform:"translateY(2vh) scale(.1, 1.5)",transformOrigin:"top left"}],[.5,{opacity:1,transform:"translateY(-1vh) scale(1.2, .6)"}],[.2,{transform:"translateY(-1vh) scale(1.1, .8)"}],[.2,{transform:"translateY(0) scale(1)"}]],leave:[[.1,{transform:"rotate(0) scale(1.2)",transformOrigin:"center center"}],[.4,{transform:"rotate(-10deg) scale(1.2)"}],[.5,{transform:"rotate(90deg) scale(0)"}]]}},data:function(){return{counter:0,stopLevel:0}},methods:{count:function(t){this.counter=t,t&&void 0!==this.wrong&&this.animate("bounce")},toStopLevel:function(t,a){var e=t===a?0:t?80-(75-(a>4?15:45-6*a))/(a-1)*t:100;n.TweenMax.to(this.$data,this.animationDuration,{stopLevel:e})}},computed:{color:function(){return this.disable?"rgba(128,128,128,0.4)":Object(i.d)(i.g)},backgroundColor:function(){return this.disable?"rgba(0,0,0,0)":Object(i.a)(i.g,.1)}}}},Eyv1:function(t,a,e){(a=t.exports=e("FZ+f")(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=PT+Mono);",""]),a.push([t.i,'@-webkit-keyframes actual-data-v-0477d3bf{0%{-webkit-transform:scale(1);transform:scale(1)}40%{-webkit-transform:scale(1.1);transform:scale(1.1)}70%{-webkit-transform:scale(.9);transform:scale(.9)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes actual-data-v-0477d3bf{0%{-webkit-transform:scale(1);transform:scale(1)}40%{-webkit-transform:scale(1.1);transform:scale(1.1)}70%{-webkit-transform:scale(.9);transform:scale(.9)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes kick-data-v-0477d3bf{0%{-webkit-box-shadow:0 0 5px 0 rgba(153,217,255,.5),inset 0 0 150px 0 rgba(153,217,255,.5);box-shadow:0 0 5px 0 rgba(153,217,255,.5),inset 0 0 150px 0 rgba(153,217,255,.5);opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.7}to{-webkit-box-shadow:0 0 100px 50px rgba(153,217,255,.5),inset 0 0 150px 50px rgba(153,217,255,.5);box-shadow:0 0 100px 50px rgba(153,217,255,.5),inset 0 0 150px 50px rgba(153,217,255,.5);opacity:0;-webkit-transform:scale(2);transform:scale(2)}}@keyframes kick-data-v-0477d3bf{0%{-webkit-box-shadow:0 0 5px 0 rgba(153,217,255,.5),inset 0 0 150px 0 rgba(153,217,255,.5);box-shadow:0 0 5px 0 rgba(153,217,255,.5),inset 0 0 150px 0 rgba(153,217,255,.5);opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.7}to{-webkit-box-shadow:0 0 100px 50px rgba(153,217,255,.5),inset 0 0 150px 50px rgba(153,217,255,.5);box-shadow:0 0 100px 50px rgba(153,217,255,.5),inset 0 0 150px 50px rgba(153,217,255,.5);opacity:0;-webkit-transform:scale(2);transform:scale(2)}}@-webkit-keyframes snare-data-v-0477d3bf{0%{-webkit-box-shadow:0 0 5px 0 rgba(153,217,255,.5),inset 0 0 150px 0 rgba(153,217,255,.5);box-shadow:0 0 5px 0 rgba(153,217,255,.5),inset 0 0 150px 0 rgba(153,217,255,.5);opacity:0;-webkit-transform:scale(1);transform:scale(1)}30%{opacity:.7}to{-webkit-box-shadow:0 0 100px 50px rgba(153,217,255,.5),inset 0 0 150px 50px rgba(153,217,255,.5);box-shadow:0 0 100px 50px rgba(153,217,255,.5),inset 0 0 150px 50px rgba(153,217,255,.5);opacity:0;-webkit-transform:scale(2.5);transform:scale(2.5)}}@keyframes snare-data-v-0477d3bf{0%{-webkit-box-shadow:0 0 5px 0 rgba(153,217,255,.5),inset 0 0 150px 0 rgba(153,217,255,.5);box-shadow:0 0 5px 0 rgba(153,217,255,.5),inset 0 0 150px 0 rgba(153,217,255,.5);opacity:0;-webkit-transform:scale(1);transform:scale(1)}30%{opacity:.7}to{-webkit-box-shadow:0 0 100px 50px rgba(153,217,255,.5),inset 0 0 150px 50px rgba(153,217,255,.5);box-shadow:0 0 100px 50px rgba(153,217,255,.5),inset 0 0 150px 50px rgba(153,217,255,.5);opacity:0;-webkit-transform:scale(2.5);transform:scale(2.5)}}.backing-container[data-v-0477d3bf]{position:fixed;top:0;right:0;bottom:0;left:0;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-perspective:800px;perspective:800px}.counts[data-v-0477d3bf]{position:absolute;top:50px;right:2px;background-color:#eee;color:#d3d3d3;padding:5px}.counts .diff[data-v-0477d3bf]{color:#ff6e56}.fx[data-v-0477d3bf],.scale[data-v-0477d3bf],.tilt[data-v-0477d3bf]{position:absolute;top:0;right:0;bottom:0;left:0}.tilt[data-v-0477d3bf]{-webkit-transform-origin:bottom;transform-origin:bottom}.scale[data-v-0477d3bf]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-flow:column-reverse nowrap;flex-flow:column-reverse nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transform-origin:top;transform-origin:top}.note[data-v-0477d3bf]{position:relative}.note[data-v-0477d3bf]:after,.note[data-v-0477d3bf]:before{position:absolute;top:0;bottom:0}.note .shadow[data-v-0477d3bf]{position:absolute;width:100%}.fx.kick .note[data-v-0477d3bf],.fx.snare .note[data-v-0477d3bf]{border-radius:50%;height:99vh;width:99vh}.fx.kick .note[data-v-0477d3bf]:after,.fx.kick .note[data-v-0477d3bf]:before,.fx.snare .note[data-v-0477d3bf]:after,.fx.snare .note[data-v-0477d3bf]:before{border-radius:50%;content:""}.fx.kick .note[data-v-0477d3bf]:before,.fx.snare .note[data-v-0477d3bf]:before{left:7%;top:7%;bottom:7%;right:7%}.fx.kick .note[data-v-0477d3bf]:after,.fx.snare .note[data-v-0477d3bf]:after{left:15%;top:15%;bottom:15%;right:15%}.fx.kick .note[data-v-0477d3bf]{background:radial-gradient(ellipse at center,rgba(28,160,255,.4) 0,rgba(28,160,255,.1) 40%,transparent 80%);-webkit-box-shadow:0 0 20px 4px hsla(0,0%,50%,.1);box-shadow:0 0 20px 4px hsla(0,0%,50%,.1)}.fx.kick .note[data-v-0477d3bf]:before{-webkit-box-shadow:0 0 15px 3px hsla(0,0%,50%,.2);box-shadow:0 0 15px 3px hsla(0,0%,50%,.2)}.fx.kick .note[data-v-0477d3bf]:after{-webkit-box-shadow:0 0 20px 4px hsla(0,0%,50%,.3);box-shadow:0 0 20px 4px hsla(0,0%,50%,.3)}.fx.snare .note[data-v-0477d3bf]{background:radial-gradient(ellipse at center,hsla(0,0%,50%,.5) 0,hsla(0,0%,50%,.2) 30%,transparent 70%)}.fx.snare .note[data-v-0477d3bf]:before{background-image:radial-gradient(1px 1px at 6px 9px,#dfdfdf,transparent),radial-gradient(2px 2px at 12px 21px,#bdbdbd,transparent),radial-gradient(3px 3px at 15px 48px,#cecece,transparent),radial-gradient(2px 2px at 27px 12px,#dfdfdf,transparent),radial-gradient(3px 3px at 39px 3px,#bdbdbd,transparent),radial-gradient(4px 4px at 48px 36px,#cecece,transparent);background-repeat:repeat space;background-size:60px 60px;-webkit-box-shadow:0 0 20px 4px hsla(0,0%,50%,.1);box-shadow:0 0 20px 4px hsla(0,0%,50%,.1)}.fx.snare .note[data-v-0477d3bf]:after{background-image:radial-gradient(1px 1px at 10px 15px,#d4d4d4,transparent),radial-gradient(2px 2px at 20px 35px,#b3b3b3,transparent),radial-gradient(3px 3px at 25px 80px,#c4c4c4,transparent),radial-gradient(2px 2px at 45px 20px,#d4d4d4,transparent),radial-gradient(3px 3px at 65px 5px,#b3b3b3,transparent),radial-gradient(4px 4px at 80px 60px,#c4c4c4,transparent);background-repeat:repeat space;background-size:100px 100px;-webkit-box-shadow:0 0 15px 3px hsla(0,0%,50%,.2);box-shadow:0 0 15px 3px hsla(0,0%,50%,.2)}.fx.sawtooth .note[data-v-0477d3bf],.fx.sine .note[data-v-0477d3bf],.fx.square .note[data-v-0477d3bf],.fx.synth .note[data-v-0477d3bf],.fx.triangle .note[data-v-0477d3bf]{-webkit-transform-origin:top;transform-origin:top;height:10vh;width:300%}.fx.sawtooth .note[data-v-0477d3bf]:after,.fx.sine .note[data-v-0477d3bf]:after,.fx.square .note[data-v-0477d3bf]:after,.fx.synth .note[data-v-0477d3bf]:after,.fx.triangle .note[data-v-0477d3bf]:after{content:"";-webkit-animation-name:synth-data-v-0477d3bf;animation-name:synth-data-v-0477d3bf;-webkit-animation-duration:.25s;animation-duration:.25s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;background-color:#c491ff;background:linear-gradient(-15deg,transparent 65px,rgba(196,145,255,.5) 75px) repeat-x;background-size:25vh 10vh;width:100%}.fx.sawtooth .note .shadow[data-v-0477d3bf],.fx.sine .note .shadow[data-v-0477d3bf],.fx.square .note .shadow[data-v-0477d3bf],.fx.synth .note .shadow[data-v-0477d3bf],.fx.triangle .note .shadow[data-v-0477d3bf]{background:-webkit-gradient(linear,left top,left bottom,from(transparent),to(rgba(196,145,255,.5)));background:linear-gradient(transparent,rgba(196,145,255,.5));bottom:100%}.fx.cowbell .note[data-v-0477d3bf]{-webkit-transform-origin:top;transform-origin:top;height:20vh;width:20vh}.fx.cowbell .note[data-v-0477d3bf]:after{content:"";-webkit-animation-name:cowbell-data-v-0477d3bf;animation-name:cowbell-data-v-0477d3bf;-webkit-animation-duration:.25s;animation-duration:.25s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;background-color:#ff6e56;-webkit-clip-path:polygon(20% 0,80% 0,100% 100%,0 100%);clip-path:polygon(20% 0,80% 0,100% 100%,0 100%);width:100%}.after1[data-v-0477d3bf]:after,.before1[data-v-0477d3bf]:before,.rotate1[data-v-0477d3bf]{-webkit-transform:rotate(-30deg);transform:rotate(-30deg)}.after2[data-v-0477d3bf]:after,.before2[data-v-0477d3bf]:before,.rotate2[data-v-0477d3bf]{-webkit-transform:rotate(-60deg);transform:rotate(-60deg)}.after3[data-v-0477d3bf]:after,.before3[data-v-0477d3bf]:before,.rotate3[data-v-0477d3bf]{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.after4[data-v-0477d3bf]:after,.before4[data-v-0477d3bf]:before,.rotate4[data-v-0477d3bf]{-webkit-transform:rotate(-120deg);transform:rotate(-120deg)}.after5[data-v-0477d3bf]:after,.before5[data-v-0477d3bf]:before,.rotate5[data-v-0477d3bf]{-webkit-transform:rotate(-150deg);transform:rotate(-150deg)}.after6[data-v-0477d3bf]:after,.before6[data-v-0477d3bf]:before,.rotate6[data-v-0477d3bf]{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.after7[data-v-0477d3bf]:after,.before7[data-v-0477d3bf]:before,.rotate7[data-v-0477d3bf]{-webkit-transform:rotate(-210deg);transform:rotate(-210deg)}.after8[data-v-0477d3bf]:after,.before8[data-v-0477d3bf]:before,.rotate8[data-v-0477d3bf]{-webkit-transform:rotate(-240deg);transform:rotate(-240deg)}.after9[data-v-0477d3bf]:after,.before9[data-v-0477d3bf]:before,.rotate9[data-v-0477d3bf]{-webkit-transform:rotate(-270deg);transform:rotate(-270deg)}.after10[data-v-0477d3bf]:after,.before10[data-v-0477d3bf]:before,.rotate10[data-v-0477d3bf]{-webkit-transform:rotate(-300deg);transform:rotate(-300deg)}.after11[data-v-0477d3bf]:after,.before11[data-v-0477d3bf]:before,.rotate11[data-v-0477d3bf]{-webkit-transform:rotate(-330deg);transform:rotate(-330deg)}.offset1[data-v-0477d3bf],.offset2[data-v-0477d3bf],.offset3[data-v-0477d3bf],.offset14[data-v-0477d3bf],.offset24[data-v-0477d3bf]{margin-top:25px}.offset1[data-v-0477d3bf],.offset7[data-v-0477d3bf],.offset8[data-v-0477d3bf],.offset10[data-v-0477d3bf],.offset20[data-v-0477d3bf]{margin-left:25px}.offset3[data-v-0477d3bf],.offset4[data-v-0477d3bf],.offset5[data-v-0477d3bf],.offset12[data-v-0477d3bf],.offset18[data-v-0477d3bf]{margin-right:25px}.offset5[data-v-0477d3bf],.offset6[data-v-0477d3bf],.offset7[data-v-0477d3bf],.offset16[data-v-0477d3bf],.offset22[data-v-0477d3bf]{margin-bottom:25px}.offset9[data-v-0477d3bf],.offset10[data-v-0477d3bf],.offset11[data-v-0477d3bf],.offset12[data-v-0477d3bf],.offset13[data-v-0477d3bf]{margin-top:50px}.offset13[data-v-0477d3bf],.offset14[data-v-0477d3bf],.offset15[data-v-0477d3bf],.offset16[data-v-0477d3bf],.offset17[data-v-0477d3bf]{margin-right:50px}.offset17[data-v-0477d3bf],.offset18[data-v-0477d3bf],.offset19[data-v-0477d3bf],.offset20[data-v-0477d3bf],.offset21[data-v-0477d3bf]{margin-bottom:50px}.offset9[data-v-0477d3bf],.offset21[data-v-0477d3bf],.offset22[data-v-0477d3bf],.offset23[data-v-0477d3bf],.offset24[data-v-0477d3bf]{margin-left:50px}.note.delay1[data-v-0477d3bf]{-webkit-animation-delay:-50ms;animation-delay:-50ms}.note.delay2[data-v-0477d3bf]{-webkit-animation-delay:-.1s;animation-delay:-.1s}.note.delay3[data-v-0477d3bf]{-webkit-animation-delay:-.15s;animation-delay:-.15s}.note.delay4[data-v-0477d3bf]{-webkit-animation-delay:-.2s;animation-delay:-.2s}.pitched-enter-active[data-v-0477d3bf]{-webkit-transition:all .1s;transition:all .1s}.pitched-enter[data-v-0477d3bf]{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:0}.pitched-enter-to[data-v-0477d3bf],.pitched-leave[data-v-0477d3bf]{-webkit-transform:translate(0) scale(1);transform:translate(0) scale(1);opacity:1}.pitched-leave-active[data-v-0477d3bf]{-webkit-transition:all .14s;transition:all .14s}.pitched-leave-to[data-v-0477d3bf]{-webkit-transform:translateY(20vh) scale(3,1.5);transform:translateY(20vh) scale(3,1.5);opacity:0}.unpitched-enter-active[data-v-0477d3bf],.unpitched-leave-active[data-v-0477d3bf]{-webkit-transition:all .25s;transition:all .25s}.unpitched-enter[data-v-0477d3bf],.unpitched-leave[data-v-0477d3bf]{-webkit-transform:scale(1);transform:scale(1);opacity:1!important}.unpitched-enter-to[data-v-0477d3bf]{-webkit-transform:scale(2.5);transform:scale(2.5);opacity:.3!important}.unpitched-leave-to[data-v-0477d3bf]{-webkit-transform:scale(2.5);transform:scale(2.5);opacity:0}.cowbell-leave-active[data-v-0477d3bf]{-webkit-transition:all .14s;transition:all .14s}.cowbell-leave[data-v-0477d3bf]{-webkit-transform:scale(1);transform:scale(1);opacity:.5}.cowbell-leave-to[data-v-0477d3bf]{-webkit-transform:scale(3);transform:scale(3);opacity:.1}@-webkit-keyframes synth-data-v-0477d3bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(-25vh);transform:translateX(-25vh)}}@keyframes synth-data-v-0477d3bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(-25vh);transform:translateX(-25vh)}}@-webkit-keyframes cowbell-data-v-0477d3bf{0%,to{-webkit-transform:rotate(0);transform:rotate(0)}33%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}66%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}}@keyframes cowbell-data-v-0477d3bf{0%,to{-webkit-transform:rotate(0);transform:rotate(0)}33%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}66%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}}',""])},H8oA:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"controls"},[e("transport",t._b({ref:"transport"},"transport",t.transportProps,!1)),e("play-control",{attrs:{playTime:t.playTime}}),t._t("default"),e("div",{staticClass:"beats-input",class:{dim:t.tempo!==t.transport.bpm(),invalid:!t.transport.isValidBpm(t.tempo)}},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempo,expression:"tempo",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"tempo"},domProps:{value:t.tempo},on:{keydown:function(t){t.stopPropagation()},input:function(a){a.target.composing||(t.tempo=t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"performance",class:{invalid:!t.transport.isValidLatencyHint(t.latencyHint),dim:t.transport.isValidLatencyHint(t.latencyHint)&&t.latencyHint!==t.transport.latencyHint}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.latencyHint,expression:"latencyHint"}],attrs:{type:"text",placeholder:"latency hint"},domProps:{value:t.latencyHint},on:{focus:function(a){t.showSuggestions=!0},blur:function(a){return t.hideSuggestions()},keydown:function(t){t.stopPropagation()},input:function(a){a.target.composing||(t.latencyHint=a.target.value)}}}),t.showSuggestions?e("div",{staticClass:"suggestions"},[e("div",{staticClass:"suggestion",on:{click:function(a){return t.onLatencyHint("0.2")}}},[t._v("0.2")]),e("div",{staticClass:"suggestion",on:{click:function(a){return t.onLatencyHint("fastest")}}},[t._v("fastest")]),e("div",{staticClass:"suggestion",on:{click:function(a){return t.onLatencyHint("interactive")}}},[t._v("interactive")]),e("div",{staticClass:"suggestion",on:{click:function(a){return t.onLatencyHint("balanced")}}},[t._v("balanced")]),e("div",{staticClass:"suggestion",on:{click:function(a){return t.onLatencyHint("playback")}}},[t._v("playback")])]):t._e()])],2)};n._withStripped=!0;var o={render:n,staticRenderFns:[]};a.a=o},HEVl:function(t,a,e){"use strict";var n=e("DZbw"),o=e("WpPD"),i=!1;var s=function(t){i||e("VMaL")},r=e("VU/8")(n.a,o.a,!1,s,"data-v-5cc211fe",null);r.options.__file="components/stage/play-button.component.vue",a.a=r.exports},IK7c:function(t,a,e){"use strict";var n=e("BaJt"),o=e("H8oA"),i=!1;var s=function(t){i||e("OsIN")},r=e("VU/8")(n.a,o.a,!1,s,"data-v-7faaa124",null);r.options.__file="components/transport-controls.component.vue",a.a=r.exports},KHDB:function(t,a,e){(a=t.exports=e("FZ+f")(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=PT+Mono);",""]),a.push([t.i,".mixer-container[data-v-5541a008]{position:fixed;top:0;right:0;bottom:0;left:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}canvas[data-v-5541a008]{width:100%;height:100%}.fps[data-v-5541a008]{position:fixed;bottom:2px;left:2px;background-color:#eee;color:#d3d3d3;padding:5px}.fps .warn[data-v-5541a008]{color:#ff6e56}",""])},OZcm:function(t,a,e){(a=t.exports=e("FZ+f")(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=PT+Mono);",""]),a.push([t.i,".container[data-v-8e7b309c]{position:relative}.content[data-v-8e7b309c],.footer[data-v-8e7b309c]{margin:10vh 12vw;position:relative}.left[data-v-8e7b309c]{position:absolute;left:0;width:12vw;text-align:center}.right[data-v-8e7b309c]{position:absolute;right:0;top:0;width:12vw}.right .mini-button[data-v-8e7b309c]{margin:5px}.track[data-v-8e7b309c]{padding:5px 0}.track.mute[data-v-8e7b309c]{opacity:.5}.track input[data-v-8e7b309c]{border:1px solid #d3d3d3;background:transparent;margin:0 2px}.track input[data-v-8e7b309c]:focus{background-color:#fff;border:1px solid #777;outline:none}.track input.type[data-v-8e7b309c]{width:12vw}.track input.notes[data-v-8e7b309c]{width:40vw}.track .close[data-v-8e7b309c]{margin-left:5px}.mini-button[data-v-8e7b309c]{background-color:transparent;border:1px solid #d3d3d3;border-radius:3px;color:#d3d3d3;cursor:pointer;display:inline-block;font-weight:700;height:inherit;padding:2px 10px}.mini-button[data-v-8e7b309c]:hover{background-color:#fff;border-color:#444;color:#444}.add[data-v-8e7b309c]{padding:5px 20px}.content.solo .track[data-v-8e7b309c]:not(.solo){opacity:.6}.line[data-v-8e7b309c]{color:gray}.line .debug[data-v-8e7b309c]{display:inline-block}.line .debug.selected[data-v-8e7b309c]{background-color:#eee}.line .debug.now[data-v-8e7b309c]{color:#000}.fx-controls[data-v-8e7b309c]{cursor:pointer;position:fixed;bottom:0;left:0;opacity:0;-webkit-transition:opacity .25s;transition:opacity .25s}.fx-controls[data-v-8e7b309c]:hover{opacity:1}.fx-controls .enable[data-v-8e7b309c]{background-color:#1ca0ff;height:40px;width:40px;-webkit-transition:background-color .25s;transition:background-color .25s}.fx-controls .enable.on[data-v-8e7b309c]{background-color:#50ffa0}.fx-controls .enable.off[data-v-8e7b309c]{background-color:#ff6e56}",""])},OsIN:function(t,a,e){var n=e("xNOF");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("6e1a7a41",n,!1,{sourceMap:!1})},QJq5:function(t,a,e){(a=t.exports=e("FZ+f")(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=PT+Mono);",""]),a.push([t.i,".anchor[data-v-5cc211fe]{position:relative;height:60px;width:60px}.play[data-v-5cc211fe]{position:relative;height:100%}.play svg[data-v-5cc211fe]{height:100%}.counter[data-v-5cc211fe]{position:absolute;top:0;font-size:40px;padding:10px 5px}",""])},QXxQ:function(t,a,e){"use strict";(function(t){var n=e("Dd8w"),o=e.n(n),i=e("Gu7T"),s=e.n(i),r=e("d7EF"),c=e.n(r),d=e("R5/K"),f=e("NYxO");function l(a,e){return t.isArray(e)?t.includes(e,a):a===e}a.a={data:function(){return{animated:null,animatedLast:"",animatedSkip:!1}},methods:{animate:function(a){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.element||this.$refs[this.animationTarget];if(o)if(n.when&&!l(this.animatedLast,n.when))this.animateDebug(a,"prevented because last",this.animatedLast,"not",n.when);else if(n.unless&&l(this.animatedLast,n.unless))this.animateDebug(a,"prevented because last",this.animatedLast,"in",n.unless);else if(n.skip&&this.animatedSkip)this.animatedLast=a,this.animateDebug(a,"skipped because last",this.animatedLast);else{this.animateDebug(a,"{-- ",n.element||"was",this.animatedLast);var i=n.onRepeat||t.noop;n.onRepeat=function(){e.animateDebug(a," --"),i()};var s=n.onComplete||t.noop;n.onComplete=function(){s(),e.animatedSkip=!1,e.animateDebug(a," --}",n.element),e.animated=null},n.element||(this.animatePause(),this.animatedLast=a,this.animatedSkip=!0),this.$nextTick(function(){e.animated=t.reduce(e.animationDefinitions[a],function(t,a){var e=c()(a,2),n=e[0],i=e[1];return t.to(o,n,i)},new d.TimelineMax(n)).duration(n.duration||e.animationDuration).play(0)})}else this.animateDebug(a,"failed without element",this.$refs)},animatePause:function(){this.animated&&(this.animated.pause(),this.animateDebug(name," ||"))},animateDebug:function(t){if(l(this.animationTarget,"")){for(var a,e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];(a=console).info.apply(a,["Animation",this.animationTarget,t].concat(s()(n)))}},set:function(t){var a=this.$refs[this.animationTarget];a&&d.TweenMax.set(a,t)}},computed:o()({animationDuration:function(){return this.duration/2}},Object(f.mapGetters)({duration:"transport/duration"}))}}).call(a,e("M4fF"))},SSQ4:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;return(t._self._c||a)("play-button",{ref:"play",on:{click:function(a){return t.onPlay()}}})};n._withStripped=!0;var o={render:n,staticRenderFns:[]};a.a=o},Srz2:function(t,a,e){"use strict";(function(t){var n=e("3QIO"),o=e("cqmd");a.a={props:{active:Boolean,showWaveform:Boolean,showFps:Boolean},data:function(){return{pixiApp:null,meter:null,holdPeakTime:0,holdPeakValue:0,waveform:null,fft:null,height:0,fps:0}},mounted:function(){this.setup(),window.addEventListener("resize",this.resize)},destroyed:function(){this.pixiApp&&this.pixiApp.destroy(!0),window.removeEventListener("resize",this.resize)},methods:{setup:function(){if(this.$refs.renderCanvas){var t=this.$refs.renderCanvas,a=t.offsetWidth;this.height=t.offsetHeight,this.pixiApp=new PIXI.Application(a,this.height,{view:t,antialias:!0,transparent:!0}),this.meter=new PIXI.Graphics,this.pixiApp.stage.addChild(this.meter),this.frequencyMeter=new PIXI.Graphics,this.pixiApp.stage.addChild(this.frequencyMeter),this.pixiApp.ticker.add(this.update)}},resize:function(){var t=this.pixiApp.view.parentNode;this.height=t.clientHeight,this.pixiApp.renderer.resize(t.clientWidth,this.height)},update:function(a){var e=this;this.fps=t.round(this.pixiApp.ticker.FPS,1);var i=t.clamp(o.a.meter.getLevel(),-100,10);this.meter.clear(),this.meter.lineStyle(10,n.g,.5);var s=(i<0?i+100:100)*this.height/200;this.meter.moveTo(5,this.height),this.meter.lineTo(5,this.height-s);var r=(i>0?i:0)*this.height/200;if(this.holdPeakTime>0&&(this.holdPeakTime-=a),(this.holdPeakTime<1||r>this.holdPeakValue)&&(this.holdPeakValue=r,r>0&&(this.holdPeakTime=60)),this.holdPeakValue>0&&(this.meter.lineStyle(10,n.h,.5),this.meter.moveTo(5,this.height/2),this.meter.lineTo(5,this.height/2-this.holdPeakValue)),this.showWaveform){var c=t.map(o.a.waveform.getValue(),function(a){return t.round(a,2)});this.waveform.clear(),this.waveform.lineStyle(5,14540253,.8),this.waveform.moveTo(100,this.height/4-100*c[0]),t.forEach(c,function(t,a){e.waveform.lineTo(100+5*a,e.height/4-100*t)})}this.frequencyMeter.clear();var d=t.map(o.a.fft.getValue(),function(a){return t.clamp(a+100,0,100)});t.forEach(d,function(t,a){var o=100+10*a;e.frequencyMeter.lineStyle(10,n.g,.5),e.frequencyMeter.moveTo(o,e.height),e.frequencyMeter.lineTo(o,e.height-t*e.height/400)}),this.active||s||this.holdPeakValue||t.some(d)||this.pixiApp.ticker.stop()}},watch:{active:function(t){t&&!this.pixiApp.ticker.started&&this.pixiApp.ticker.start()},showWaveform:{immediate:!0,handler:function(t){t&&!this.waveform?(this.waveform=new PIXI.Graphics,this.pixiApp.stage.addChild(this.waveform)):!t&&this.waveform&&this.waveform.clear()}}}}}).call(a,e("M4fF"))},VMaL:function(t,a,e){var n=e("QJq5");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("22900b45",n,!1,{sourceMap:!1})},WpPD:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"anchor"},[t._t("default"),e("div",{ref:"play",staticClass:"play",class:{penalty:t.wrong,button:!t.disable},on:{click:function(a){!t.disable&&t.$emit("click")}}},[e("svg",{attrs:{viewBox:"0 0 60 60"}},[void 0!==t.wrong?e("defs",[e("linearGradient",{attrs:{id:"playGradient",x1:"0",y1:"0",x2:"0",y2:"100%"}},[e("stop",{attrs:{offset:t.stopLevel+"%","stop-color":t.backgroundColor}}),e("stop",{attrs:{offset:(t.stopLevel?t.stopLevel+15:0)+"%","stop-color":t.color}})],1)],1):t._e(),e("path",{staticClass:"play-icon",attrs:{d:t.playPath,fill:void 0===t.wrong?t.color:"url(#playGradient)",stroke:t.color,"stroke-width":"6px"}})]),t.counter?e("div",{staticClass:"counter"},[t._v(t._s(t.counter))]):t._e()])],2)};n._withStripped=!0;var o={render:n,staticRenderFns:[]};a.a=o},"bZS/":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("0MDS"),o=e("q84+"),i=!1;var s=function(t){i||e("2DrB")},r=e("VU/8")(n.a,o.a,!1,s,"data-v-8e7b309c",null);r.options.__file="pages/backing.vue",a.default=r.exports},cqft:function(t,a,e){"use strict";(function(t){var n=e("Dd8w"),o=e.n(n),i=e("NYxO"),s=e("Jjdl"),r=e("cqmd"),c=e("sHzt"),d=!1;a.a={props:{tempo:{type:Number,default:120},beatsPerMeasure:{type:Array,default:function(){return[4]}},supportedPulses:{type:Array,default:function(){return[3,4]}},livePlayWithin:{type:Number,default:.3},metronome:{type:Boolean,default:!0},show:{type:Boolean,default:!1},latencyHint:{type:String,default:"balanced"}},data:function(){return{onTopId:null,quarterLoop:null,pulsesPart:null,latencyHistogram:[],beatTickHistogram:[],beatTickTotal:0,beatTickCount:0,topTotal:0,topCount:0,measure:0,beat:-1}},mounted:function(){if(d)throw new Error("Only one transport should be mounted at a time");d=!0,c.a.context.latencyHint=this.latencyHint},destroyed:function(){this.disposeLoops(),void 0!==this.onTopId&&(c.a.Transport.clear(this.onTopId),this.onTopId=void 0),d=!1},methods:{disposeLoops:function(){this.quarterLoop&&(this.quarterLoop.dispose(),this.quarterLoop=null),this.pulsesPart&&(this.pulsesPart.dispose(),this.pulsesPart=null)},latency:function(){return c.a.context.latencyHint},isValidLatencyHint:function(a){return"fastest"===a||"interactive"===a||"balanced"===a||"playback"===a||t.inRange(t.toNumber(a),0,.51)},bpm:function(){return c.a.Transport&&t.round(c.a.Transport.bpm.value)},setBpm:function(t){c.a.Transport&&t!==this.bpm()&&this.isValidBpm(t)&&(c.a.Transport.bpm.rampTo(t,1),c.a.Transport.setLoopPoints(0,this.loopTime()),this.$store.commit("transport/setup",{tempo:t}))},isValidBpm:function(t){return t>=40&&t<=300},loopTime:function(){return c.a.Time("4n").toSeconds()*this.beats},progress:function(){return c.a.Transport&&c.a.Transport.progress},position:function(){return c.a.Transport&&c.a.Transport.position.replace(/\:[.\d]+$/,"")},emitBeatTick:function(a){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=c.a.rightNow(),i=s.a.from(this.beat,n);this.$bus.$emit(s.a.EVENT,{time:a,beat:this.beat,tick:n,beatTick:i,lastBeat:this.lastBeat}),n||this.$nextTick(function(){e.$bus.$emit(s.a.BEAT,{time:a,beat:e.beat,nextBeat:e.nextBeat,lastBeat:e.lastBeat,count:e.count})});var r=t.floor(1e3*(c.a.rightNow()-o));if(r>100&&console.warn("BeatTick",i,"took",r,"!"),r&&this.show){this.beatTickTotal+=r,this.beatTickCount++;var d=t.floor(r/10);this.beatTickHistogram[d]=(this.beatTickHistogram[d]||0)+1}},logIfLate:function(a){var e=c.a.rightNow();if(!(e<=a)){var n=t.floor(10*(e-a));this.latencyHistogram[n]=(this.latencyHistogram[n]||0)+1,console.log("@"+this.elapsedTime()+"s Late: ",t.round(e-a,5),t.toArray(this.latencyHistogram),a,this.latency())}},elapsedTime:function(){if(this.startTime)return t.round((this.endTime||c.a.rightNow())-this.startTime)}},computed:o()({beats:function(){return t.sum(this.beatsPerMeasure)},countBeats:function(){return this.beatsPerMeasure[this.measure]},measures:function(){return this.beatsPerMeasure.length},nextBeat:function(){return this.beat===this.beats-1?0:this.beat+1},lastBeat:function(){return this.beat===this.beats-1},counts:function(){return t.reduce(this.beatsPerMeasure,function(a,e){return t.concat(a,t.times(e,function(t){return t+1}))},[])},count:function(){return this.counts[this.beat]}},Object(i.mapGetters)({starting:"transport/starting",playing:"transport/playing",active:"transport/active",startTime:"transport/startTime",endTime:"transport/endTime"})),watch:{active:function(t){t?this.latencyHistogram=[]:(this.measure=-1,this.beat=-1,r.a.releaseAll())},latencyHint:function(a){"fastest"===a||"interactive"===a||"balanced"===a||"playback"===a?c.a.context.latencyHint=a:t.inRange(t.toNumber(a),0,.51)&&(c.a.context.latencyHint=t.toNumber(a))},beatsPerMeasure:{deep:!0,immediate:!0,handler:function(a,e){var n=this;if(!t.isEqual(a,e)){var o=this.active;if(o&&this.$store.dispatch("transport/stop"),this.beats){c.a.Transport.loop=!0,c.a.Transport.setLoopPoints(0,this.loopTime()),this.disposeLoops(),this.quarterLoop=new c.a.Loop(function(t){if(n.playing){n.logIfLate(t),n.beat++;var a=1===n.counts[n.beat];a&&n.measure++,n.metronome&&r.a.click.play(t,{variation:a?"heavy":"normal"}),n.emitBeatTick(t)}},"4n"),this.quarterLoop.start(0);var i=t.transform(this.supportedPulses,function(a,e){var n=s.a.PER/e;t.times(e-1,function(t){a[n*(t+1)+"i"]=n*(t+1)})},{});this.pulsesPart=new c.a.Part(function(t,a){n.logIfLate(t),n.emitBeatTick(t,a)},t.toPairs(i)),this.pulsesPart.loop=!0,this.pulsesPart.loopEnd="4n",this.pulsesPart.start(0),this.onTopId||(this.onTopId=c.a.Transport.schedule(function(){var a=c.a.rightNow();n.starting||n.beat>n.beats-3?!n.starting&&n.beat<n.beats-1?console.warn(c.a.rightNow(),"Top on beat",n.beat):n.$bus.$emit(s.a.TOP,{first:n.starting}):n.playing&&console.warn(c.a.rightNow(),"Skipping top because beat",n.beat),n.starting&&n.$store.commit("transport/play"),n.measure=-1,n.beat=-1;var e=t.floor(1e3*(c.a.rightNow()-a));e>10&&n.show&&(n.topTotal+=e,n.topCount++)},0)),this.$store.commit("transport/setup",{tempo:this.bpm(),counts:this.counts}),o&&this.$nextTick(function(){n.$store.dispatch("transport/start")})}else this.$store.commit("transport/setup",{counts:[]})}}},tempo:{immediate:!0,handler:function(t){this.setBpm(t)}}}}}).call(a,e("M4fF"))},jmw6:function(t,a,e){var n=e("9KVq");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("1d67323a",n,!1,{sourceMap:!1})},l3QN:function(t,a,e){"use strict";var n=e("cqft"),o=e("DXgv"),i=!1;var s=function(t){i||e("jmw6")},r=e("VU/8")(n.a,o.a,!1,s,"data-v-fe218888",null);r.options.__file="components/stage/transport.component.vue",a.a=r.exports},mgf8:function(t,a,e){"use strict";var n=e("wOAU"),o=e("SSQ4"),i=e("VU/8")(n.a,o.a,!1,null,null,null);i.options.__file="components/play-control.component.vue",a.a=i.exports},"q84+":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("mixer",{attrs:{active:t.playing,showWaveform:!t.showFx,showFps:!0}}),e("backing",{attrs:{fixed:t.fixed,show:t.showFx,skip:void 0===t.showFx,showCounts:!0}}),e("div",{staticClass:"left"},[e("transport-controls",{attrs:{playTime:"+0.1",beatsPerMeasure:t.bpm}},[e("div",{staticClass:"beats-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.bpm,expression:"bpm"}],staticClass:"beats",attrs:{type:"text",placeholder:"# beats"},domProps:{value:t.bpm},on:{keydown:function(t){t.stopPropagation()},input:function(a){a.target.composing||(t.bpm=a.target.value)}}})])])],1),e("div",{staticClass:"content",class:{solo:t.anySolo}},[t._l(t.tracks,function(a,n){return e("div",{staticClass:"track",class:{solo:a.solo,mute:a.mute}},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.solo,expression:"track.solo"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.solo)?t._i(a.solo,null)>-1:a.solo},on:{change:function(e){var n=a.solo,o=e.target,i=!!o.checked;if(Array.isArray(n)){var s=t._i(n,null);o.checked?s<0&&t.$set(a,"solo",n.concat([null])):s>-1&&t.$set(a,"solo",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(a,"solo",i)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:a.mute,expression:"track.mute"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.mute)?t._i(a.mute,null)>-1:a.mute},on:{change:function(e){var n=a.mute,o=e.target,i=!!o.checked;if(Array.isArray(n)){var s=t._i(n,null);o.checked?s<0&&t.$set(a,"mute",n.concat([null])):s>-1&&t.$set(a,"mute",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(a,"mute",i)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:a.type,expression:"track.type"}],staticClass:"type",attrs:{type:"text"},domProps:{value:a.type},on:{input:function(e){e.target.composing||t.$set(a,"type",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:a.notes,expression:"track.notes"}],staticClass:"notes",attrs:{type:"text"},domProps:{value:a.notes},on:{input:function(e){e.target.composing||t.$set(a,"notes",e.target.value)}}}),e("div",{staticClass:"close mini-button",on:{click:function(a){return t.onRemove(n)}}},[t._v("x")])])}),e("div",{staticClass:"add mini-button",on:{click:function(a){return t.onAdd()}}},[t._v("+")])],2),e("div",{staticClass:"footer"},t._l(t.debugPhrase,function(a){return e("div",{staticClass:"line"},[e("div",{staticClass:"debug",class:{selected:t.selected===a,now:t.isNow(a)},on:{click:function(e){return t.onBeat(a)}}},[t._v(t._s(a))])])}),0),e("div",{staticClass:"right"},[e("h3",[t._v("More")]),t._l(t.more,function(a,n){return e("div",[e("h3",[t._v(t._s(n))]),t._l(a,function(a){return e("div",{staticClass:"mini-button",on:{click:function(a){t.onAdd(a,n.toLowerCase())}}},[t._v(t._s(a))])})],2)})],2),e("div",{staticClass:"fx-controls"},[e("div",{staticClass:"enable",class:t.showFx?"on":!1===t.showFx?"off":"",on:{click:function(a){t.showFx=!t.showFx}}})])],1)};n._withStripped=!0;var o={render:n,staticRenderFns:[]};a.a=o},ukv1:function(t,a,e){var n=e("Eyv1");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("61f3149b",n,!1,{sourceMap:!1})},vKEg:function(t,a,e){"use strict";(function(t){var n=e("Dd8w"),o=e.n(n),i=e("NYxO"),s=e("Jjdl"),r=e("JUv4"),c=e("sHzt");a.a={props:{fixed:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!0},skip:Boolean,showCounts:Boolean},data:function(){return{notes:{},playCount:0,drawCount:0,undrawCount:0,activeNotes:0}},mounted:function(){this.$bus.$on(s.a.EVENT,this.beatTickHandler)},destroyed:function(){this.$bus.$off(s.a.EVENT,this.beatTickHandler)},filters:{diff:function(t){return t<0?t:"+"+t}},methods:{resetCounts:function(){this.playCount=0,this.drawCount=0,this.undrawCount=0,this.activeNotes=0,this.notes={}},beatTickHandler:function(a){var e=this,n=a.beatTick,o=a.time,i=this.getNotes("backing",n);t.forEach(i,function(t){if(t.play(o),e.playCount++,!e.skip){var a=n+t.toString();c.a.Draw.schedule(function(){e._setBackingNote(t,a),e.drawCount++,e.activeNotes++,e.$forceUpdate()},o),c.a.Draw.schedule(function(){e.notes[a]&&(e.notes[a].on=!1),e.undrawCount++,e.activeNotes--,e.$forceUpdate()},o+t.duration)}})},_setBackingNote:function(a,e){this.notes[e]||(this.notes[e]={id:e});var n=this.notes[e],o=a.frequency;n.on=!0,n.fxClass=a.type+(o?" rotate"+o.toMidi()%12:" rotate"+t.random(11)+" offset"+t.random(24)),n.tiltTransform=o?"rotateX(40deg)":"rotateX(10deg)",n.scaleTransform=o?"scale("+(-.009375*o.toMidi()+1.225)+","+(o.toMidi()/-160+1.15)+")":"",n.transitionName="cowbell"===a.type?"cowbell":o?"pitched":"unpitched",n.noteClass=[n.transitionName],"cowbell"===a.type?n.noteClass.push("delay"+t.random(4)):"snare"===a.type&&(n.noteClass.push("before"+t.random(11)),n.noteClass.push("after"+t.random(11))),n.shadowHeight="pitched"!==n.transitionName?"0":-1.875*o.toMidi()+245+"%"}},computed:o()({},Object(i.mapGetters)({getNotes:"phrase/getNotes",starting:"transport/starting",paused:"transport/paused"})),watch:{starting:function(t){t&&this.resetCounts()},fixed:function(a,e){var n=this;t.forEach(e,function(t){n.notes[t]&&(n.notes[t].on=!1)}),t.forEach(a,function(t){var a=r.a.from(t);n.paused&&a.play("+0.1"),n._setBackingNote(a,t)}),this.$forceUpdate()}}}}).call(a,e("M4fF"))},wJzh:function(t,a,e){"use strict";var n=e("vKEg"),o=e("4Say"),i=!1;var s=function(t){i||e("ukv1")},r=e("VU/8")(n.a,o.a,!1,s,"data-v-0477d3bf",null);r.options.__file="components/backing.component.vue",a.a=r.exports},wOAU:function(t,a,e){"use strict";var n=e("Dd8w"),o=e.n(n),i=e("NYxO"),s=e("Jjdl"),r=e("cqmd"),c=e("HEVl");a.a={components:{"play-button":c.a},props:{playTime:{type:String,default:void 0}},mounted:function(){window.addEventListener("keydown",this.onKeyDown),this.$bus.$on(s.a.BEAT,this.beatHandler)},destroyed:function(){window.removeEventListener("keydown",this.onKeyDown),this.$bus.$off(s.a.BEAT,this.beatHandler)},methods:{onKeyDown:function(t){"Enter"===t.key&&this.onPlay()},beatHandler:function(t){var a=t.count;this.$refs.play.count(a)},onPlay:function(){var t=this;r.a.resume().then(function(){t.$store.dispatch("transport/toggle",t.playTime)})}},computed:o()({},Object(i.mapGetters)({playing:"transport/playing"})),watch:{playing:function(t){t||this.$refs.play.count(0)}}}},xNOF:function(t,a,e){(a=t.exports=e("FZ+f")(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=PT+Mono);",""]),a.push([t.i,".controls[data-v-7faaa124]{padding:10px}.beats-input[data-v-7faaa124],.performance[data-v-7faaa124]{margin:10px 0}.beats-input.dim[data-v-7faaa124],.performance.dim[data-v-7faaa124]{opacity:.5}.beats-input.invalid input[data-v-7faaa124],.performance.invalid input[data-v-7faaa124]{color:#ff6e56}.beats-input input[data-v-7faaa124],.performance input[data-v-7faaa124]{background:transparent;border:none;font-size:30px;margin:0;text-align:center;width:100%}.beats-input input[data-v-7faaa124]::-webkit-input-placeholder,.performance input[data-v-7faaa124]::-webkit-input-placeholder{color:#ff6e56;font-size:14px}.beats-input input[data-v-7faaa124]::-ms-input-placeholder,.performance input[data-v-7faaa124]::-ms-input-placeholder{color:#ff6e56;font-size:14px}.beats-input input[data-v-7faaa124]::placeholder,.performance input[data-v-7faaa124]::placeholder{color:#ff6e56;font-size:14px}.beats-input input[type=text][data-v-7faaa124],.performance input[type=text][data-v-7faaa124]{margin-right:14%;width:86%}.beats-input input[data-v-7faaa124]:focus,.performance input[data-v-7faaa124]:focus{outline:none}.performance[data-v-7faaa124]{position:relative}.performance input[data-v-7faaa124]{font-size:14px;opacity:.3}.performance input[data-v-7faaa124]:focus,.performance input[data-v-7faaa124]:hover{opacity:1}.performance .suggestions[data-v-7faaa124]{position:absolute;left:20%;background-color:#fff;border:1px solid #a9a9a9;padding:1px 5px}.performance .suggestions .suggestion[data-v-7faaa124]{color:#a9a9a9;cursor:pointer}.performance .suggestions .suggestion[data-v-7faaa124]:hover{color:#000}",""])},"xU/a":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mixer-container"},[e("canvas",{ref:"renderCanvas"}),t.showFps?e("div",{staticClass:"fps"},[e("span",{class:{warn:t.active&&t.fps<30}},[t._v(t._s(t.fps))]),e("span",[t._v("fps")])]):t._e()])};n._withStripped=!0;var o={render:n,staticRenderFns:[]};a.a=o}});